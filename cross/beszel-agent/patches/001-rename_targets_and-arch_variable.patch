# rename ARCH variable to avoid conflicts with spksrc framework
# avoid OS and _ARCH in target names
# 
--- Makefile.orig	2026-02-27 17:02:51.000000000 +0000
+++ Makefile	2026-02-27 17:02:51.000000000 +0000
@@ -3 +3 @@
-ARCH ?= $(shell go env GOARCH)
+_ARCH ?= $(shell go env GOARCH)
@@ -90 +90 @@
-	GOOS=$(OS) GOARCH=$(ARCH) go build $(AGENT_GO_TAGS) -o ./build/beszel-agent_$(OS)_$(ARCH)$(EXE_EXT) -ldflags "-w -s" ./internal/cmd/agent
+	GOOS=$(OS) GOARCH=$(_ARCH) go build $(AGENT_GO_TAGS) -o ./build/beszel-agent -ldflags "-w -s" ./internal/cmd/agent
@@ -93 +93 @@
-	GOOS=$(OS) GOARCH=$(ARCH) go build -o ./build/beszel_$(OS)_$(ARCH)$(EXE_EXT) -ldflags "-w -s" ./internal/cmd/hub
+	GOOS=$(OS) GOARCH=$(_ARCH) go build -o ./build/beszel -ldflags "-w -s" ./internal/cmd/hub
